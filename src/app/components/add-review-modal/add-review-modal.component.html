<div class="modal-header">
  <h4 class="modal-title">Add Review ✍️</h4>

  <button
    type="button"
    class="btn-close"
    aria-label="Close"
    (click)="activeModal.dismiss('Cross click')"
  ></button>
</div>

<form #f="ngForm">
  <div class="modal-body">
    <span
      ><ngb-alert
        class="danger-alert"
        [dismissible]="true"
        [animation]="true"
        type="danger"
        *ngIf="displayErrorMsg"
      >
        {{ errorMessage }}
      </ngb-alert></span
    >
    <!-- Here's the documentation on ngb rating: https://ng-bootstrap.github.io/#/components/rating/examples -->
    <label>Rating</label>
    <div class="rating-section" *ngIf="newReview.rating">
      <ngb-rating [(rate)]="newReview.rating" [max]="5" [readonly]="false">
        <ng-template let-fill="fill" let-index="index">
          <i
            class="bi-star{{ fill === 100 ? '-fill' : '' }} rating-star"
            [class.filled]="fill === 100"
          ></i>
        </ng-template>
      </ngb-rating>
    </div>

    <label>What would you like to say about your experience?</label>
    <textarea
      class="form-control"
      id="reviewText"
      rows="3"
      [(ngModel)]="newReview.reviewText"
      name="reviewText"
      required
      maxlength="500"
    ></textarea>
  </div>

  <div class="modal-footer">
    <button type="submit" class="btn btn-primary" (click)="onCreateReview()">
      Share review
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      (click)="activeModal.close('No')"
    >
      Cancel
    </button>
  </div>
</form>
